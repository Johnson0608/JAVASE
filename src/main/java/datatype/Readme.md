[toc]

##  数据类型

(数据类型是解决什么问题的？)

使用变量就是申请内存来存储值。也就是说，当创建变量的时候，需要在内存中申请空间。

内存管理系统根据变量的类型为变量分配存储空间，分配的空间只能用来储存该类型数据。

因此，通过定义不同类型的变量，可以在内存中储存整数、小数或者字符。

Java 的两大数据类型:

    内置数据类型
    引用数据类型

##  内置数据类型

### 八个基本类型：
 
    boolean/1
    byte/8
    char/16
    short/16
    int/32
    float/32
    long/64
    double/64

### 自动类型转换

数字表示范围小的数据类型可以自动转换成范围大的数据类型。

### 包装类型

为了解决基本数据类型无法面向对象编程的问题。

在java语言中，new一个对象存储在堆里，我们通过栈中的引用来使用这些对象。但是对于经常用到的一系列类型如int，如果我们用new将其存储在堆里就不是很有效（特别是简单的小的变量）。所以就出现了基本类型，同C++一样，Java采用了相似的做法，对于这些类型不是用new关键字来创建，而是直接将变量的值存储在栈中，因此更高效。

基本类型并不具有对象的性质，为了让基本类型也具有对象的特征，就出现了包装类型（如我们在使用集合类型Collection时就一定要使用包装类型而非基本类型），它相当于将基本类型“包装起来”，使得它具有了对象的性质，并且为其添加了属性和方法，丰富了基本类型的操作。另外，当需要往ArrayList，HashMap中放东西时，像int，double这种基本类型是放不进去的，因为容器都是装object的，这是就需要这些基本类型的包装器类了。

#### 包装类应用场景

（1）集合类泛型只能是包装类；

    // 编译报错
    List<int> list1 = new ArrayList<>();
    // 正常
    List<Integer> list2 = new ArrayList<>();

（2）成员变量不能有默认值；

    private int status;
基本数据类型的成员变量都有默认值，如以上代码 status 默认值为 0，如果定义中 0 代表失败，那样就会有问题，这样只能使用包装类 Integer，它的默认值为 null,所以就不会有默认值影响。

（3）方法参数允许定义空值；

    private static void test1(int status){
        System.out.println(status);
    }

### 自动装箱/拆箱

自动装箱：即自动将基本数据类型转换成包装类型，在 Java 5 之前，要将基本数据类型转换成包装类型只能这样做，看下面的代码。

	Integer i1 = new Integer(8);
	Integer i2 = Integer.valueOf(8);
	// 自动装箱
	Integer i3 = 8;

以上 3 种都可以进行转换，但在 Java 5 之前第 3 种方法是编译失败的，第 3 种方法也正是现在的自动装箱功能。另外，第一种构造器方法也不推荐使用了，已经标为废弃了。
其实自动装箱的原理就是调用包装类的 valueOf 方法，如第 2 个方法中的 Integer.valueOf 方法。

自动拆箱：自动拆箱即自动将包装类型转换成基本数据类型，与自动装箱相反，有装就有拆，很好理解。

    // 自动拆箱
    int i4 = i3;
    int i5 = i3.intValue();

继续上面的例子，把 i3 赋值给 i4 就是实现的自动拆箱功能，自动拆箱的原理就是调用包装类的 xxValue 方法，如 i5 中的 Integer 的 intValue 方法。

自动装箱、拆箱不只是体现在以上的例子，在方法接收参数、对象设置参数时都能自动装箱拆箱。

需要注意的是，关于 Integer，-128 ~ 127 会有缓存，对比这个范围的值的对象是一个坑，这个在阿里巴巴规范中也有提及。


## 引用类型

在Java中，引用类型的变量非常类似于C/C++的指针。引用类型指向一个对象，指向对象的变量是引用变量。这些变量在声明时被指定为一个特定的类型，比如 Employee、Puppy 等。变量一旦声明后，类型就不能被改变了。

对象、数组都是引用数据类型。

所有引用类型的默认值都是null。

一个引用变量可以用来引用任何与之兼容的类型。

    例子：Site site = new Site("Runoob")。
